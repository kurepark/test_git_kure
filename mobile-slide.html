<!doctype html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no">
    <title>모바일슬라이드</title>
</head>
<link rel="stylesheet" type="text/css" href="reset.css"/>
<script
  src="https://code.jquery.com/jquery-2.2.4.min.js"
  integrity="sha256-BbhdlvQf/xTY9gja0Dq3HiwQF8LaCRTXxZKRutelT44="
  crossorigin="anonymous"></script>
<script
  src="https://code.jquery.com/ui/1.12.1/jquery-ui.min.js"
  integrity="sha256-VazP97ZCwtekAsvgPBSUwPFKdrwD3unUfSGVYrahUqU="
  crossorigin="anonymous"></script>
  
  
  
<script src="jquery.ui.touch-punch.min.js"></script>
<body>
<style> 
    html, body{
        width:100%;
        height: 100%;
    }
    #wrap{
        position:relative;
        width:100%;
        height: 100%;
    }
    .box{
        width: 100%;
        height: 100%;
        overflow:hidden;
    }
    .slide-cover{
        position: relative;
        width:500%;
        height: 100%;
        transition:all .3s;
    }
    .slide-cover div.slide{
        position:relative;
        width:20%;
        height: 100%;
        float:left;
    }
    .slide-cover div.slide span{
        position:absolute;
        top:50%;
        left:50%;
        transform:translate(-50%,-50%);
        line-height: 100%;
        font-size:30px;
        color:#fff;
        font-weight: 600;
    }
    .pos-info{
        position:fixed;
        bottom:0;
        height: 20%;
        width:100%;
        background-color:#fff;
        opacity:.5;
        text-align: center;
    }
    .pos-info p{
        font-size:16px;
        font-weight: 600;
        padding:10px 0;
    }
    
    
    </style>
<section id="wrap">
   <div class="box">
    <div class="slide-cover">
        <div class="slide s1" style="
        background-color:#e3a4a4;">
            <span>슬라이드1</span>
          
        </div>
        <div class="slide s2" style="
        background-color:#a4a4e3;">
            <span>슬라이드2</span>
        </div>
        <div class="slide s3" style="
        background-color:#d4e3a4;">
            <span>슬라이드3</span>
        </div>
        <div class="slide s4" style="
        background-color:#a4e3b0;">
            <span>슬라이드4</span>
        </div>
        <div class="slide s5" style="
        background-color:#a4e3de;">
            <span>슬라이드5</span>
        </div>
    </div>
    <div class="pos-info">
      <p class="pos1">시작</p>
            <p class="pos2">중간</p> 
            <p class="pos3">끝</p>
            </div>
            </div>
</section>


</body>

<script>
 $(document).ready(function(){
            
        var point = $(window).width()/3
		
        $('#wrap').append("<span class='line'></span>");
        $('.line').css({
            display:'inline-block',
            backgroundColor:'red',
            width:'1px',
            height:'100%',
            position:'absolute',
            left:point*2 + 'px',
            top:0
        })
       
        
       
        var slide = $('.slide-cover');
     	var sOffset;
		
		var startX;
		var startY;
		var moveX;
		var moveY;
		var endX;
		var endY;
        //1.start
        $(document).bind('touchstart',function(event){
        startX = event.pageX || event.originalEvent.touches[0].pageX;
        startY = event.pageY || event.originalEvent.touches[0].pageY;
			
            $(".pos1").text('시작 x = '+ startX.toFixed(0) + ' 시작 y = '+ startY.toFixed(0));
		
			
        })
        //2.move
        $(document).bind('touchmove',function(event){
        moveX = event.pageX || event.originalEvent.touches[0].pageX;
        moveY = event.pageY || event.originalEvent.touches[0].pageY;
           $(".pos2").text('이동 x = '+ moveX.toFixed(0) +' 이동y = '+ moveY.toFixed(0));
			
        })
        //3.end
        $(document).bind('touchend',function(event){
        endX = event.pageX || event.originalEvent.changedTouches[0].pageX;
        endY = event.pageY || event.originalEvent.changedTouches[0].pageY;
            $(".pos3").text('끝 x = '+ endX.toFixed(0) +' 끝 y = '+ endY.toFixed(0));
          
        })
  
	 
	 $("#wrap").bind('touchstart',function(){
			slide.css('left',0);
		})
	 
        $("#wrap").bind('touchmove',function(){
			 sOffset= slide.find('.slide').offset().left;
			slide.css('left',-(startX-moveX));
			
		}) 
				
		$("#wrap").bind('touchend',function(){
			 sOffset= slide.find('.slide').offset().left;
			if(sOffset > -point){
				slide.css('left',0);
			} else{ slide.css('left',-100+"%")}
		})
       
			
       
      
        
    });//jqb
    
    </script>
</html>
